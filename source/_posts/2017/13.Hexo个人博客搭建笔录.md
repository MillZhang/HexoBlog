---
title: Hexo个人博客搭建笔录
date: 2017-6-13 10:15:49
tags: [hexo,node]
layout: post
---

### 参考

* [hexo官方文档](https://hexo.io/zh-cn/docs/)
* [博客](http://baixin.io/2015/08/HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/)

### 环境装备

1. nodejs(最后大于6.0);
2. `hexo`,通过`npm install hexo -g`安装;
3. github仓库(username.github.io)

<!-- more -->

### 常用命令

* `hexo init`创建文件夹;
* `hexo clean`清除文件;
* `hexo g/hexo generate`生成静态文件;
* `hexo d/hexo deploy`远程发布 ;
* `hexo server`启动本地服务

### hexo与github仓库的关联提交

在博客根目录下的`_config.yml`的文件中,修改如下代码:

```
deploy:
    type: git
    repo: https://github.com/MillZhang/millzhang.github.io.git #远程git仓库
    branch: master
```

### 主题Themes

```
git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia
```

该主题需安装插件,生成所有文章的目录

```js
//仅支持node>6.0
npm i hexo-generator-json-content --save
```

安装完成后需要在根目录下的`_config.yml`中添加如下的配置:

```
# 所有文章目录
jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
```


### 一些小技巧

* 让文章只显示一部分,只需要在文章中添加`<!--more-->`,`<!--more-->`后面的内容就不显示了;
* 给文章分类(tags),需要在稳重添加`tags:[node,javascript]`

### 插件

1.使用git同步到git仓库

```
npm install hexo-deployer-git --save
```

2.生成易于搜索引擎搜素的网站地图

```
npm install hexo-generator-sitemap --save
```

3.生成rss订阅文件

```
npm install hexo-generator-feed --save
```

### hexo免密提交

1.输入指令，进入.ssh文件夹
```
cd ~/.ssh/
```
如无文件夹,可手动创建`.ssh`文件夹

2.配置全局的name和email，这里是的你github或者bitbucket的name和email

```
git config --global user.name "millzhang"  
  
git config --global user.email "876753183@qq.com"  
```

3.生成key

```
ssh-keygen -t rsa -C "876753183@qq.com" 
```

连续按三次回车，这里设置的密码就为空了，并且创建了key。

4.拷贝`id_rsa.pub`文件中的`key`,在`millzhang.github.io`的`Settings`中找到`Deploy Key`粘贴.

5.在博客根目录下的`_config.yml`中修改

```
deploy:
    type: git
    repo: git@github.com:MillZhang/millzhang.github.io.git #修改
    branch: master

```

6.使用`hexo d`就可以免密提交啦!